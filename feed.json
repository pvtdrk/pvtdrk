{
    "version": "https://jsonfeed.org/version/1",
    "title": "Hey,",
    "description": "",
    "home_page_url": "https://pvtdrk.com",
    "feed_url": "https://pvtdrk.com/feed.json",
    "user_comment": "",
    "author": {
        "name": "pvtdrk"
    },
    "items": [
        {
            "id": "https://pvtdrk.com/running-your-homelab-behind-pfsense.html",
            "url": "https://pvtdrk.com/running-your-homelab-behind-pfsense.html",
            "title": "Running your Homelab behind pfSense",
            "summary": " The Homelab is up and running but you have a single IP and want to run all the things, this might help.&nbsp; Leveraging HAProxy on pfSense we can drive traffic to specified servers with the single external IP and all SSL is handled by&hellip;",
            "content_html": "\n  <p>\n    The Homelab is up and running but you have a single IP and want to run all the things, this might help.&nbsp;<br><br>Leveraging HAProxy on pfSense we can drive traffic to specified servers with the single external IP and all SSL is handled by the target server.<br><br>Assumptions:<br><br>- Router has a DMZ configured and this has your WAN pfSense listed<br>- Subdomain A record created for target domain<br><br>Ok lets get it running, seen as we have an SSL cert to hand we can bind that to https on our target server<br><br>- Log in to pfSense and head to system &gt; package manager<br>- Hopeful you have already installed Open-VM-Tools for performance<br>&nbsp; &nbsp;-Search for HAProxy and click install &gt; confirm<br>\n  </p>\n\n    <figure class=\"post__image post__image--center\">\n      <img loading=\"lazy\" src=\"https://pvtdrk.com/media/posts/10/Screenshot-2021-02-05-at-14.11.56.png\" sizes=\"(max-width: 48em) 100vw, 768px\" srcset=\"https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.11.56-xs.png 300w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.11.56-sm.png 480w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.11.56-md.png 768w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.11.56-lg.png 1024w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.11.56-xl.png 1360w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.11.56-2xl.png 1600w\"  height=\"664\" width=\"1160\" alt=\"\" />\n      \n    </figure>\n\n  <p>\n    - You should now have HAProxy under the services menu<br>    - Lets get a backend setup first\n  </p>\n\n    <figure class=\"post__image post__image--center\">\n      <img loading=\"lazy\" src=\"https://pvtdrk.com/media/posts/10/Screenshot-2021-02-05-at-14.14.18.png\" sizes=\"(max-width: 48em) 100vw, 768px\" srcset=\"https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.14.18-xs.png 300w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.14.18-sm.png 480w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.14.18-md.png 768w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.14.18-lg.png 1024w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.14.18-xl.png 1360w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.14.18-2xl.png 1600w\"  height=\"384\" width=\"1155\" alt=\"\" />\n      \n    </figure>\n\n  <p>\n    - Add and give it a name<br>        - Add IP and port for this backend server<br>        - Leave everything else as default with the exception of Health Check set this to basic<br>        - Save\n  </p>\n\n    <figure class=\"post__image post__image--center\">\n      <img loading=\"lazy\" src=\"https://pvtdrk.com/media/posts/10/Screenshot-2021-02-05-at-14.15.39.png\" sizes=\"(max-width: 48em) 100vw, 768px\" srcset=\"https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.15.39-xs.png 300w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.15.39-sm.png 480w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.15.39-md.png 768w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.15.39-lg.png 1024w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.15.39-xl.png 1360w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.15.39-2xl.png 1600w\"  height=\"640\" width=\"1187\" alt=\"\" />\n      \n    </figure>\n\n    <figure class=\"post__image post__image--center\">\n      <img loading=\"lazy\" src=\"https://pvtdrk.com/media/posts/10/Screenshot-2021-02-05-at-14.17.14.png\" sizes=\"(max-width: 48em) 100vw, 768px\" srcset=\"https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.17.14-xs.png 300w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.17.14-sm.png 480w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.17.14-md.png 768w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.17.14-lg.png 1024w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.17.14-xl.png 1360w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.17.14-2xl.png 1600w\"  height=\"313\" width=\"1151\" alt=\"\" />\n      \n    </figure>\n\n  <p>\n    - Add a front end<br>        - Give it a name and external details set type to SSL / https\n  </p>\n\n    <figure class=\"post__image post__image--center\">\n      <img loading=\"lazy\" src=\"https://pvtdrk.com/media/posts/10/Screenshot-2021-02-05-at-14.23.08.png\" sizes=\"(max-width: 48em) 100vw, 768px\" srcset=\"https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.23.08-xs.png 300w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.23.08-sm.png 480w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.23.08-md.png 768w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.23.08-lg.png 1024w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.23.08-xl.png 1360w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.23.08-2xl.png 1600w\"  height=\"346\" width=\"1157\" alt=\"\" />\n      \n    </figure>\n\n  <p>\n    - Set Expression Server Name Indication TLS extension ends with: <br>            - Value - target subdomain\n  </p>\n\n    <figure class=\"post__image post__image--center\">\n      <img loading=\"lazy\" src=\"https://pvtdrk.com/media/posts/10/Screenshot-2021-02-05-at-14.20.13.png\" sizes=\"(max-width: 48em) 100vw, 768px\" srcset=\"https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.20.13-xs.png 300w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.20.13-sm.png 480w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.20.13-md.png 768w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.20.13-lg.png 1024w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.20.13-xl.png 1360w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.20.13-2xl.png 1600w\"  height=\"428\" width=\"1161\" alt=\"\" />\n      \n    </figure>\n\n  <p>\n    &nbsp;\n  </p>\n\n  <p>\n    - Action use backend (currently only one configured)<br>            - Here you could have multiple sub domains as backends and redirect them as required\n  </p>\n\n    <figure class=\"post__image post__image--center\">\n      <img loading=\"lazy\" src=\"https://pvtdrk.com/media/posts/10/Screenshot-2021-02-05-at-14.21.45.png\" sizes=\"(max-width: 48em) 100vw, 768px\" srcset=\"https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.21.45-xs.png 300w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.21.45-sm.png 480w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.21.45-md.png 768w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.21.45-lg.png 1024w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.21.45-xl.png 1360w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.21.45-2xl.png 1600w\"  height=\"213\" width=\"1061\" alt=\"\" />\n      \n    </figure>\n\n  <p>\n    - Save<br>- Apply changes<br>\n  </p>\n\n  <p>\n    lastly go to HAProxy settings and enable the service, you will need to specify a maximum number of connections.\n  </p>\n\n    <figure class=\"post__image post__image--center\">\n      <img loading=\"lazy\" src=\"https://pvtdrk.com/media/posts/10/Screenshot-2021-02-05-at-14.33.04.png\" sizes=\"(max-width: 48em) 100vw, 768px\" srcset=\"https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.33.04-xs.png 300w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.33.04-sm.png 480w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.33.04-md.png 768w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.33.04-lg.png 1024w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.33.04-xl.png 1360w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-14.33.04-2xl.png 1600w\"  height=\"224\" width=\"1162\" alt=\"\" />\n      \n    </figure>\n\n  <p>\n    - At this point you should be able to run an SSL checker externally and see your valid chain returned&nbsp;<br>- If external checks are failing check 443 is allowed on the pfSense firewall as it is blocked by default.\n  </p>\n\n    <figure class=\"post__image post__image--center\">\n      <img loading=\"lazy\" src=\"https://pvtdrk.com/media/posts/10/Screenshot-2021-02-05-at-16.14.14.png\" sizes=\"(max-width: 48em) 100vw, 768px\" srcset=\"https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-16.14.14-xs.png 300w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-16.14.14-sm.png 480w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-16.14.14-md.png 768w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-16.14.14-lg.png 1024w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-16.14.14-xl.png 1360w ,https://pvtdrk.com/media/posts/10/responsive/Screenshot-2021-02-05-at-16.14.14-2xl.png 1600w\"  height=\"442\" width=\"1159\" alt=\"\" />\n      \n    </figure>",
            "author": {
                "name": "pvtdrk"
            },
            "tags": [
            ],
            "date_published": "2021-02-05T16:17:33+00:00",
            "date_modified": "2021-02-05T16:17:33+00:00"
        },
        {
            "id": "https://pvtdrk.com/free-ish-ssl-certs.html",
            "url": "https://pvtdrk.com/free-ish-ssl-certs.html",
            "title": "Free-ish SSL Certs",
            "summary": " *Trusted public certs on the super cheap because it's just a homelab, can do. - You will need a domain name, register your chosen domain at any of the many providers I'm using GoDaddy because there was an offer and it had API integration&hellip;",
            "content_html": "\n  <p>\n    *Trusted public certs on the super cheap because it's just a homelab, can do.<br><br>- You will need a domain name, register your chosen domain at any of the many providers I'm using GoDaddy because there was an offer and it had API integration with our SSL too Certify the Web<br>- Certify the web, this is the application that will generate our certs:<br><br>Lets jump into a overview of this:<br><br>Install Certify the web accepting defaults and Launch it:<br><br>- click new certificates &gt; this will prompt you to register a new contact &gt; complete this:<br>\n  </p>\n\n    <figure class=\"post__image post__image--center\">\n      <img loading=\"lazy\" src=\"https://pvtdrk.com/media/posts/8/Screenshot-2021-02-05-at-11.48.49.png\" sizes=\"(max-width: 48em) 100vw, 768px\" srcset=\"https://pvtdrk.com/media/posts/8/responsive/Screenshot-2021-02-05-at-11.48.49-xs.png 300w ,https://pvtdrk.com/media/posts/8/responsive/Screenshot-2021-02-05-at-11.48.49-sm.png 480w ,https://pvtdrk.com/media/posts/8/responsive/Screenshot-2021-02-05-at-11.48.49-md.png 768w ,https://pvtdrk.com/media/posts/8/responsive/Screenshot-2021-02-05-at-11.48.49-lg.png 1024w ,https://pvtdrk.com/media/posts/8/responsive/Screenshot-2021-02-05-at-11.48.49-xl.png 1360w ,https://pvtdrk.com/media/posts/8/responsive/Screenshot-2021-02-05-at-11.48.49-2xl.png 1600w\"  height=\"451\" width=\"515\" alt=\"\" />\n      \n    </figure>\n\n  <p>\n    - Go back to new certificate<br>- Add primary domain to list you can also add a wildcard in addition to the primary a wildcard is useful\n  </p>\n\n    <figure class=\"post__image post__image--center\">\n      <img loading=\"lazy\" src=\"https://pvtdrk.com/media/posts/8/Screenshot-2021-02-05-at-11.50.03.png\" sizes=\"(max-width: 48em) 100vw, 768px\" srcset=\"https://pvtdrk.com/media/posts/8/responsive/Screenshot-2021-02-05-at-11.50.03-xs.png 300w ,https://pvtdrk.com/media/posts/8/responsive/Screenshot-2021-02-05-at-11.50.03-sm.png 480w ,https://pvtdrk.com/media/posts/8/responsive/Screenshot-2021-02-05-at-11.50.03-md.png 768w ,https://pvtdrk.com/media/posts/8/responsive/Screenshot-2021-02-05-at-11.50.03-lg.png 1024w ,https://pvtdrk.com/media/posts/8/responsive/Screenshot-2021-02-05-at-11.50.03-xl.png 1360w ,https://pvtdrk.com/media/posts/8/responsive/Screenshot-2021-02-05-at-11.50.03-2xl.png 1600w\"  height=\"642\" width=\"942\" alt=\"\" />\n      \n    </figure>\n\n  <p>\n    - DNS update method is dependant on how your site is managed <br>    - Godaddy &gt; create API key (production not ote) in dev portal and add to certify the web credentials<br>    - Click … to check API and if working the zones Id section should be populated\n  </p>\n\n    <figure class=\"post__image post__image--center\">\n      <img loading=\"lazy\" src=\"https://pvtdrk.com/media/posts/8/Screenshot-2021-02-05-at-11.50.56.png\" sizes=\"(max-width: 48em) 100vw, 768px\" srcset=\"https://pvtdrk.com/media/posts/8/responsive/Screenshot-2021-02-05-at-11.50.56-xs.png 300w ,https://pvtdrk.com/media/posts/8/responsive/Screenshot-2021-02-05-at-11.50.56-sm.png 480w ,https://pvtdrk.com/media/posts/8/responsive/Screenshot-2021-02-05-at-11.50.56-md.png 768w ,https://pvtdrk.com/media/posts/8/responsive/Screenshot-2021-02-05-at-11.50.56-lg.png 1024w ,https://pvtdrk.com/media/posts/8/responsive/Screenshot-2021-02-05-at-11.50.56-xl.png 1360w ,https://pvtdrk.com/media/posts/8/responsive/Screenshot-2021-02-05-at-11.50.56-2xl.png 1600w\"  height=\"645\" width=\"942\" alt=\"\" />\n      \n    </figure>\n\n  <p>\n    - Change to deployment section on the right side menu<br>    - Select No deployment, this will save the certificate to your local machine\n  </p>\n\n    <figure class=\"post__image post__image--center\">\n      <img loading=\"lazy\" src=\"https://pvtdrk.com/media/posts/8/Screenshot-2021-02-05-at-12.16.37.png\" sizes=\"(max-width: 48em) 100vw, 768px\" srcset=\"https://pvtdrk.com/media/posts/8/responsive/Screenshot-2021-02-05-at-12.16.37-xs.png 300w ,https://pvtdrk.com/media/posts/8/responsive/Screenshot-2021-02-05-at-12.16.37-sm.png 480w ,https://pvtdrk.com/media/posts/8/responsive/Screenshot-2021-02-05-at-12.16.37-md.png 768w ,https://pvtdrk.com/media/posts/8/responsive/Screenshot-2021-02-05-at-12.16.37-lg.png 1024w ,https://pvtdrk.com/media/posts/8/responsive/Screenshot-2021-02-05-at-12.16.37-xl.png 1360w ,https://pvtdrk.com/media/posts/8/responsive/Screenshot-2021-02-05-at-12.16.37-2xl.png 1600w\"  height=\"639\" width=\"945\" alt=\"\" />\n      \n    </figure>\n\n  <p>\n    - Review the preview page <br>- Run the request certificate<br>- You should now have a valid certificate<br>    - The output folder isn’t clear but you should find them in C:\\ProgramData\\certify\\assets\\\n  </p>\n\n  <p>\n    Now find something to do with your shiny new certs.\n  </p>\n\n  <p>\n    *Things to note:\n  </p>\n\n  <p>\n    - Certs are valid for 90 days at a time, renewal process is built into Certify the Web application and you can setup target locations for the certs to go post renewal instead of manually adding them each time they are updated\n  </p>\n\n  <p>\n    - They are not password protected so depending what you intend to use them with you might need to take some extra steps before an install will accept them, the password section is found on the advanced tab next to domains in the certificates section.\n  </p>\n\n  <p>\n    \n  </p>",
            "author": {
                "name": "pvtdrk"
            },
            "tags": [
            ],
            "date_published": "2021-02-05T13:24:25+00:00",
            "date_modified": "2021-02-05T17:38:28+00:00"
        },
        {
            "id": "https://pvtdrk.com/blog.html",
            "url": "https://pvtdrk.com/blog.html",
            "title": "Blog",
            "summary": "List of blog things",
            "content_html": "<p>List of blog things</p>",
            "author": {
                "name": "pvtdrk"
            },
            "tags": [
            ],
            "date_published": "2021-02-05T10:31:30+00:00",
            "date_modified": "2021-02-05T10:31:30+00:00"
        },
        {
            "id": "https://pvtdrk.com/installing-pfsense-2.html",
            "url": "https://pvtdrk.com/installing-pfsense-2.html",
            "title": "ESXi 7 on USB guide",
            "summary": "Pretty easy paint by number guide here you just need a few items; - ESXi ISO - USB key(s) or target USB drive and other source media to run ISO from - Rufus application to put ISO onto USB There are some limitations on running&hellip;",
            "content_html": "<p>Pretty easy paint by number guide here you just need a few items;</p>\n<p>- ESXi ISO</p>\n<p>- USB key(s) or target USB drive and other source media to run ISO from</p>\n<p>- Rufus application to put ISO onto USB </p>\n<p>There are some limitations on running ESXi from USB the key size can impact the partitioning of the target ESXi install but that is out of scope for this quick run down use keys over 16GB and it's a non issue for the homelab.</p>\n<p>Install / launch Rufus and select your target device, ISO and check the remaining setting:</p>\n<figure class=\"post__image\"><img loading=\"lazy\"  src=\"https://pvtdrk.com/media/posts/5/Screenshot-2021-01-31-at-13.55.52.png\" sizes=\"(max-width: 48em) 100vw, 768px\" srcset=\"https://pvtdrk.com/media/posts/5/responsive/Screenshot-2021-01-31-at-13.55.52-xs.png 300w ,https://pvtdrk.com/media/posts/5/responsive/Screenshot-2021-01-31-at-13.55.52-sm.png 480w ,https://pvtdrk.com/media/posts/5/responsive/Screenshot-2021-01-31-at-13.55.52-md.png 768w ,https://pvtdrk.com/media/posts/5/responsive/Screenshot-2021-01-31-at-13.55.52-lg.png 1024w ,https://pvtdrk.com/media/posts/5/responsive/Screenshot-2021-01-31-at-13.55.52-xl.png 1360w ,https://pvtdrk.com/media/posts/5/responsive/Screenshot-2021-01-31-at-13.55.52-2xl.png 1600w\"  alt=\"Rufus setting \" width=\"471\" height=\"718\"></figure>\n<p>once this is complete you can head on over to your hardware of choice pop in this install media USB and target USB drive, if you have multiples of the same flash drive you can just start with the newly created boot media drive inserted and then take a note of it's ID &gt; insert the new target drive and rescan for devices.</p>\n<p>From this point its a lot of defaults settings, acknowledgements, keyboard layout and creation of the root account password once complete you can remove the install USB drive and reboot.</p>\n<p>you will now be booting off of the USB key, now log in to ESXi and configure your Datastores etc.</p>\n<p>One of the key benefits of this for me is not tying my ESXi install to my Datastores it's also easy to upgrade and rollback.</p>",
            "author": {
                "name": "pvtdrk"
            },
            "tags": [
            ],
            "date_published": "2021-02-05T10:28:59+00:00",
            "date_modified": "2021-02-05T13:00:36+00:00"
        },
        {
            "id": "https://pvtdrk.com/guides-for-things.html",
            "url": "https://pvtdrk.com/guides-for-things.html",
            "title": "Guides for things",
            "summary": "list of guides: ESXi on USB Free-ish SSL Certs Running your Homelab behind pfSense",
            "content_html": "<p>list of guides:</p>\n<p> </p>\n<p><a href=\"https://pvtdrk.com/installing-pfsense-2.html\">ESXi on USB</a></p>\n<p><a href=\"https://pvtdrk.com/free-ish-ssl-certs.html\">Free-ish SSL Certs</a></p>\n<p><a href=\"https://pvtdrk.com/running-your-homelab-behind-pfsense.html\">Running your Homelab behind pfSense</a></p>",
            "author": {
                "name": "pvtdrk"
            },
            "tags": [
            ],
            "date_published": "2021-02-05T09:48:54+00:00",
            "date_modified": "2021-02-05T16:19:53+00:00"
        }
    ]
}
